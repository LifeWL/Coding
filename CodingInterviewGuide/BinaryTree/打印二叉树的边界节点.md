# **打印二叉树的边界节点**

```C++
#include<iostream>
#include<algorithm>
using namespace std;

const int N = 1e6 + 10;

struct node{
    int val;
    int l = 0, r = 0;
}Node[N];
int e[N][2] = {0};

int getheight(int root){
    if(root == 0) return 0;
    return 1 + max(getheight(Node[root].l), + getheight(Node[root].r));
}

void gete(int root, int l){
    if(root == 0) return;
    if(e[l][0] == 0) e[l][0] = root;
    e[l][1] = root;
    
    gete(Node[root].l, l + 1);
    gete(Node[root].r, l + 1);
}

void print(int root, int l){
    if(root == 0) return;
    if(!Node[root].l && !Node[root].r && root != e[l][0] && root != e[l][1]){
        cout << root << " ";
    }
    print(Node[root].l, l + 1);
    print(Node[root].r, l + 1);
}

void printel(int root, bool p){
    if(root == 0) return;
    if(p || (Node[root].l == 0 && Node[root].r == 0)) cout << root << " ";
    printel(Node[root].l, p);
    printel(Node[root].r, Node[root].l == 0? p : 0);
}

void printer(int root, bool p){
    if(root == 0) return;
    printer(Node[root].l, Node[root].r == 0? p : 0);
    printer(Node[root].r, p);
    if(p || (Node[root].l == 0 && Node[root].r == 0)) cout << root << " ";
}

void printe(int root){
    if(root == 0) return ;
    cout << root << " ";
    if(Node[root].l && Node[root].r){
        printel(Node[root].l, 1);
        printer(Node[root].r, 1);
    }else{
        printe(Node[root].l ? Node[root].l : Node[root].r);
    }
}

int n, r;
int main(){
    cin >> n >> r;
    for(int i = 0; i < n; i++){
        int fa, lch, rch;
        cin >> fa >> lch >> rch;
        Node[fa].l = lch;
        Node[fa].r = rch;
    }
    int h = getheight(r);
    gete(r, 1);
    
    for(int i = 1; i <= h; i++) cout << e[i][0] << " ";
    print(r, 1);
    for(int i = h; i >= 1; i--){
        if(e[i][1] != e[i][0]) cout << e[i][1] << " ";
    }
    cout << endl;
   
    printe(r);
    
    return 0;    
}
```


# **一种字符串和数字的对应关系**

```C++
#include<bits/stdc++.h>
using namespace std;

string IntToString(const vector<char>& data, int target){
    if(data.empty() || target < 1)
        return "";
    int cur = 1, base = data.size();
    int len = 0;
    string res;
    while(target >= cur){
        len++;
        target -= cur;
        cur *= base;
    }
    res.resize(len);
    int pos = 0, nCur = 0;
    do{
        cur /= base;
        nCur = target / cur;
        res[pos++] = data[nCur];
        target %= cur;
    } while(pos != len);
    return res;
}

int StringToInt(const vector<char>& data, string& target){
    const int n = data.size();
    int base = 1;
    unordered_map<char,int> map1;
    for(int i = 0;i < data.size(); i++)
        map1[data[i]] = i + 1;
    int res = 0;
    for(int i = (int)target.length() - 1;i > -1; i--){
        res += map1[target[i]] * base;
        base *= n;
    }
    return res;
}

int main(){
    int opt, n;
    char tmp;
    vector<char> data;
    cin >> opt >> n;
    for(int i = 0;i < n; i++){
        cin >> tmp;
        data.push_back(tmp);
    }
    if(opt == 1){
        int target;
        cin >> target;
        cout << IntToString(data, target) << endl;
    } else{
        string target;
        cin >> target;
        cout << StringToInt(data, target) << endl;
    }
}
```


# **字符串匹配问题**

```c++
#include<iostream>
#include<string>
#include<algorithm>
#include<vector>
using namespace std;

void init(vector<vector<bool>> &dp,string &s1,string &s2)
{
    int len1=s1.size();
    int len2=s2.size();
        
    dp[len1][len2]=1;
    for(int j=len2-2;j>-1;j=j-2)
    {
        if(s2[j]!='*' && s2[j+1]=='*')
            dp[len1][j]=1;
        else 
            break;
    }
    
    if(s1[len1-1]==s2[len2-1] || s2[len2-1]=='.')
        dp[len1-1][len2-1]=1;
    
}
int valid(string &s1,string &s2)
{
    int len1=s1.size();
    int len2=s2.size();
    for(int i=0;i<len1;i++)
        if(s1[i]=='.'||s1[i]=='.')
            return 0;
    for(int j=0;j<len2;j++)
        if(s2[j]=='*' &&(j==0||s2[j-1]=='*'))
            return 0;
    return 1;
}
void getdp(vector<vector<bool>> &dp,string &s1,string &s2)
{
    if(s1.empty()||s2.empty())
        return;
    int len1=s1.size();
    int len2=s2.size();
    int si;
    if(!valid(s1,s2))
        return;
    init(dp,s1,s2);
    for(int i=len1-1;i>-1;i--)
        for(int j=len2-2;j>-1;j--)
        {
            if(s2[j+1]!='*')
            {
                dp[i][j]= (s1[i]==s2[j]||s2[j]=='.')&&dp[i+1][j+1];
            }
            else
            {
                si=i;
                while(si!=len1&&(s1[i]==s2[j]||s2[j]=='.'))
                {
                    if(dp[si][j+2])
                    {
                        dp[i][j]=1;
                        break;
                    }
                    si++;
                }
                if(!dp[i][j])
                    dp[i][j]=dp[si][j+2];
                    
            }
        }
}

int main()
{
    string s1,s2;
    cin>>s1>>s2;
    int len1=s1.size();
    int len2=s2.size();
    vector<vector<bool>> dp(len1+1,vector<bool>(len2+1,0));
    getdp(dp,s1,s2);
    if(dp[0][0])
        cout<<"YES";
    else
        cout<<"NO";
    return 0;
}
```

